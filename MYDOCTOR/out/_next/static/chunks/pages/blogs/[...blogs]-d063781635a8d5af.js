(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[250],{7231:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blogs/[...blogs]",function(){return n(9421)}])},4120:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});var r=n(7066);let o=new(n(3059)).Z,a=r.Z.create({baseURL:"https://doctor-app-bp0m.onrender.com"});a.interceptors.request.use(function(e){let t=o.get("token");return t&&(e.headers=e.headers||{},e.headers["x-access-token"]=t),e},function(e){return Promise.reject(e)})},2212:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});let r={auth:{signIn:"/login",signUp:"/register"},cms:{contactUs:"/createcontact",listOfDoctors:"/alldoctordepartment",createAppointment:"/createappointment",depertmentWiseDoctor:"/departmentidwisedoctor",featuredDoctors:"/featured",doctorDetails:"/doctordetails",personalCare:"/personalcare",childCare:"/childcare",allDepartments:"/alldepartment",blog:"/allblog",singleBlog:"/singleblog",createBlogComment:"/createblogcomment",getSingleBlogComment:"/getblogcomment",userDash:"/userdash",recentBlog:"/recentblog",searchBlog:"/blogsearch"}}},8301:function(e,t,n){"use strict";n.d(t,{wW:function(){return H},b5:function(){return w},sF:function(){return C},cG:function(){return D},sH:function(){return F},un:function(){return B},mN:function(){return q},nl:function(){return k},Ms:function(){return S},r$:function(){return _},TE:function(){return P},OZ:function(){return N}});var r=n(777),o=n(8029),a=n(202);let c=()=>({queryClient:(0,a.NL)()});var s=n(4120),i=n(2212);let l=async()=>(console.log("calledf"),(await s.b.get(i.H.cms.listOfDoctors)).data),d=async e=>(await s.b.post(i.H.cms.contactUs,e)).data;var u=n(5678);let m=async e=>(await s.b.post(i.H.cms.createAppointment,e)).data,h=async e=>(await s.b.get("".concat(i.H.cms.depertmentWiseDoctor,"/").concat(e))).data,g=async e=>(await s.b.get("".concat(i.H.cms.doctorDetails,"/").concat(e))).data,p=async()=>(await s.b.get(i.H.cms.allDepartments)).data,x=async()=>(await s.b.get(i.H.cms.blog)).data,f=async e=>(await s.b.get("".concat(i.H.cms.singleBlog,"/").concat(e))).data,y=async e=>(await s.b.post(i.H.cms.createBlogComment,e)).data,v=async e=>(await s.b.get("".concat(i.H.cms.getSingleBlogComment,"/").concat(e))).data,b=async e=>(await s.b.get("".concat(i.H.cms.userDash,"/").concat(e))).data,Z=async()=>(await s.b.get(i.H.cms.recentBlog)).data;var j=n(1163);let w=()=>{let{queryClient:e}=c();return(0,r.a)({queryKey:["doctorsList"],queryFn:l})},C=()=>(0,o.D)({mutationFn:d,onSuccess:e=>{let{status:t,data:n,message:r}=e||{};!0===t?u.Am.success("contact created successfully"):u.Am.error("an unknown error occurred")}}),D=()=>{let e=(0,j.useRouter)();return(0,o.D)({mutationFn:m,onSuccess:t=>{let{status:n,message:r}=t||{};n?(u.Am.success("appointmemnt created successfully"),e.push("/")):(0,u.Am)(r)}})},B=e=>(0,r.a)({queryKey:["departmentWiseDoctor",e],queryFn:()=>h(e)}),q=e=>(0,r.a)({queryKey:["doctorDetails",e],queryFn:()=>g(e)}),k=()=>(0,r.a)({queryKey:["departments"],queryFn:p}),H=()=>(0,r.a)({queryKey:["allBlogs"],queryFn:x}),_=e=>(0,r.a)({queryKey:["singleBlog"],queryFn:()=>f(e)}),F=()=>(0,o.D)({mutationFn:y,onSuccess:e=>{let{status:t,message:n,data:r}=e||{};!0===t&&u.Am.success("commented successfully")}}),S=e=>(0,r.a)({queryKey:["singleBlogComment",e],queryFn:()=>v(e)}),N=e=>(0,r.a)({queryKey:["userDashboard",e],queryFn:()=>b(e)}),P=()=>(0,r.a)({queryKey:["recentBlogs"],queryFn:Z})},4987:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var o=r(n(7955)),a=n(5893);t.Z=(0,o.default)((0,a.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H6l-2 2V4h16z"}),"ChatBubbleOutline")},3528:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var o=r(n(7955)),a=n(5893);t.Z=(0,o.default)((0,a.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send")},9421:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var r=n(5893),o=n(7294),a=n(1163),c=n(3059),s=n(6722),i=n(8046),l=n(7969),d=n(4965),u=n(9912),m=n(955),h=n(8163),g=n(4466),p=n(3367),x=n(8489),f=n(5675),y=n.n(f),v=n(4987),b=n(3528),Z=n(8301),j=n(1664),w=n.n(j),C=()=>{let{data:e,isLoading:t}=(0,Z.TE)();return console.log(e),(0,r.jsxs)(u.Z,{p:2,sx:{background:"#ffb3b3",borderRadius:"13px"},spacing:2,children:[(0,r.jsx)(i.Z,{variant:"h4",gutterBottom:!0,children:"RECENT BLOGS"}),null==e?void 0:e.data.map(e=>(0,r.jsx)(w(),{href:"/blogs/".concat(e._id),children:(0,r.jsx)(i.Z,{variant:"h6",children:null==e?void 0:e.title})},e._id))]})},D=n(5398),B=()=>{var e;let[t,n]=(0,o.useState)(!1),[f,j]=(0,o.useState)(""),[w,B]=(0,o.useState)(!1),q=()=>B(!0),k=e=>()=>n(e),{blogs:H}=(0,a.useRouter)().query,_=null==H?void 0:H[0],F=new c.Z,{data:S,isLoading:N}=(0,Z.Ms)(_||""),{data:P,isLoading:E}=(0,Z.r$)(_||""),{mutate:I,isPending:A}=(0,Z.sH)();if(N||E)return null;let K=(0,r.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,r.jsxs)(s.Z,{sx:{flex:1,overflowY:"auto",padding:2},children:[(0,r.jsx)(i.Z,{variant:"h5",gutterBottom:!0,children:(null==S?void 0:S.count)===0?"No Comments Yet":"".concat(null==S?void 0:S.count," Comments")}),(0,r.jsx)(l.Z,{children:null==S?void 0:S.data.map(e=>{var t;return(0,r.jsx)(d.ZP,{sx:{p:2,m:2,borderRadius:"13px",background:"#F5EDED",width:"90%"},children:(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(u.Z,{direction:"row",children:(0,r.jsx)(i.Z,{variant:"h6",children:(null===(t=e.user_id)||void 0===t?void 0:t.name)||"Unknown User"})}),(0,r.jsx)(i.Z,{variant:"body1",children:e.comment||"No Comment"})]})},e._id)})})]}),(0,r.jsx)(s.Z,{sx:{padding:2},children:(0,r.jsxs)(u.Z,{direction:"row",spacing:2,alignItems:"flex-end",children:[(0,r.jsx)(m.Z,{label:"Add a comment",variant:"outlined",multiline:!0,fullWidth:!0,value:f,onChange:e=>{j(e.target.value)}}),(0,r.jsx)(h.Z,{variant:"contained",sx:{px:2},onClick:()=>{let e=F.get("userId");if(e){let t=new URLSearchParams;t.append("blog_Id",_||""),t.append("user_id",e),t.append("comment",f),I(t.toString()),j("")}else q()},children:(0,r.jsx)(b.Z,{})}),(0,r.jsx)(h.Z,{variant:"outlined",onClick:k(!1),children:"Cancel"})]})})]});return(0,r.jsxs)(s.Z,{children:[(0,r.jsxs)(g.ZP,{container:!0,rowSpacing:2,columnSpacing:2,width:"100%",p:2,children:[(0,r.jsxs)(g.ZP,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column",p:2,background:"#d4d4d4",borderRadius:"13px"},children:[(0,r.jsx)(y(),{src:"https://doctor-app-bp0m.onrender.com/".concat((null==P?void 0:null===(e=P.data)||void 0===e?void 0:e.image)||""),alt:"Blog Image",width:904,height:720}),(0,r.jsx)(i.Z,{gutterBottom:!0,variant:"h4",children:null==P?void 0:P.data.title}),(0,r.jsx)(i.Z,{gutterBottom:!0,variant:"body1",color:"primary",children:(e=>{let t=new Date(e),[n,r,o,a]=new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(t).split(" ");return"".concat(n,", ").concat(r," ").concat(o," ").concat(a)})((null==P?void 0:P.data.createdAt)||"")}),(0,r.jsx)(i.Z,{gutterBottom:!0,variant:"h6",children:null==P?void 0:P.data.description}),(0,r.jsxs)(u.Z,{direction:"row",spacing:2,children:[(0,r.jsx)(i.Z,{gutterBottom:!0,variant:"h6",children:(null==S?void 0:S.count)===0?"No Comments Yet":"".concat(null==S?void 0:S.count," Comments")}),(0,r.jsx)(p.Z,{onClick:()=>n(!0),children:(0,r.jsx)(v.Z,{})})]})]}),(0,r.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,r.jsx)(C,{})})]}),(0,r.jsx)(x.ZP,{anchor:"bottom",open:t,onClose:k(!1),PaperProps:{sx:{height:"50%",maxHeight:"80%",overflow:"hidden"}},children:K}),w&&(0,r.jsx)(D.Z,{message:"You need to log in first",severity:"error",open:w,onClose:()=>B(!1)})]})}},5398:function(e,t,n){"use strict";var r=n(5893);n(7294);var o=n(4864),a=n(6722),c=n(9131),s=n(9346),i=n(8046),l=n(5008),d=n(8163),u=n(3367),m=n(9626),h=n(1664),g=n.n(h);t.Z=e=>{let{message:t,severity:n="info",open:h,onClose:p}=e;return(0,r.jsxs)(o.Z,{open:h,onClose:p,fullWidth:!0,maxWidth:"sm",PaperProps:{sx:{position:"relative",zIndex:9999}},children:[(0,r.jsx)(a.Z,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)",zIndex:9998}}),(0,r.jsxs)(c.Z,{sx:{position:"relative",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",bgcolor:"white"},children:[(0,r.jsx)(s.Z,{color:n,children:n.toUpperCase()}),(0,r.jsx)(i.Z,{variant:"h6",sx:{my:2},children:t}),(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(g(),{href:"/auth",children:(0,r.jsx)(d.Z,{variant:"contained",children:"Go to Log in"})}),(0,r.jsx)(d.Z,{variant:"contained",color:"secondary",onClick:p,children:"Not Now"}),(0,r.jsx)(u.Z,{edge:"end",color:"inherit",onClick:p,"aria-label":"close",sx:{position:"absolute",right:13,top:8},children:(0,r.jsx)(m.Z,{})})]})]})]})}}},function(e){e.O(0,[168,777,955,675,32,756,888,774,179],function(){return e(e.s=7231)}),_N_E=e.O()}]);