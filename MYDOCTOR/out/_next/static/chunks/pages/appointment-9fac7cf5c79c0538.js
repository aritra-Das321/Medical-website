(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[593],{6041:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/appointment",function(){return n(5019)}])},4120:function(e,t,n){"use strict";n.d(t,{b:function(){return c}});var a=n(7066);let r=new(n(3059)).Z,c=a.Z.create({baseURL:"https://doctor-app-bp0m.onrender.com"});c.interceptors.request.use(function(e){let t=r.get("token");return t&&(e.headers=e.headers||{},e.headers["x-access-token"]=t),e},function(e){return Promise.reject(e)})},2212:function(e,t,n){"use strict";n.d(t,{H:function(){return a}});let a={auth:{signIn:"/login",signUp:"/register"},cms:{contactUs:"/createcontact",listOfDoctors:"/alldoctordepartment",createAppointment:"/createappointment",depertmentWiseDoctor:"/departmentidwisedoctor",featuredDoctors:"/featured",doctorDetails:"/doctordetails",personalCare:"/personalcare",childCare:"/childcare",allDepartments:"/alldepartment",blog:"/allblog",singleBlog:"/singleblog",createBlogComment:"/createblogcomment",getSingleBlogComment:"/getblogcomment",userDash:"/userdash",recentBlog:"/recentblog",searchBlog:"/blogsearch"}}},8301:function(e,t,n){"use strict";n.d(t,{wW:function(){return F},b5:function(){return D},sF:function(){return v},cG:function(){return q},sH:function(){return N},un:function(){return _},mN:function(){return B},nl:function(){return C},Ms:function(){return S},r$:function(){return H},TE:function(){return K},OZ:function(){return k}});var a=n(777),r=n(8029),c=n(202);let s=()=>({queryClient:(0,c.NL)()});var o=n(4120),i=n(2212);let l=async()=>(console.log("calledf"),(await o.b.get(i.H.cms.listOfDoctors)).data),u=async e=>(await o.b.post(i.H.cms.contactUs,e)).data;var d=n(5678);let m=async e=>(await o.b.post(i.H.cms.createAppointment,e)).data,g=async e=>(await o.b.get("".concat(i.H.cms.depertmentWiseDoctor,"/").concat(e))).data,p=async e=>(await o.b.get("".concat(i.H.cms.doctorDetails,"/").concat(e))).data,h=async()=>(await o.b.get(i.H.cms.allDepartments)).data,y=async()=>(await o.b.get(i.H.cms.blog)).data,f=async e=>(await o.b.get("".concat(i.H.cms.singleBlog,"/").concat(e))).data,x=async e=>(await o.b.post(i.H.cms.createBlogComment,e)).data,b=async e=>(await o.b.get("".concat(i.H.cms.getSingleBlogComment,"/").concat(e))).data,w=async e=>(await o.b.get("".concat(i.H.cms.userDash,"/").concat(e))).data,j=async()=>(await o.b.get(i.H.cms.recentBlog)).data;var Z=n(1163);let D=()=>{let{queryClient:e}=s();return(0,a.a)({queryKey:["doctorsList"],queryFn:l})},v=()=>(0,r.D)({mutationFn:u,onSuccess:e=>{let{status:t,data:n,message:a}=e||{};!0===t?d.Am.success("contact created successfully"):d.Am.error("an unknown error occurred")}}),q=()=>{let e=(0,Z.useRouter)();return(0,r.D)({mutationFn:m,onSuccess:t=>{let{status:n,message:a}=t||{};n?(d.Am.success("appointmemnt created successfully"),e.push("/")):(0,d.Am)(a)}})},_=e=>(0,a.a)({queryKey:["departmentWiseDoctor",e],queryFn:()=>g(e)}),B=e=>(0,a.a)({queryKey:["doctorDetails",e],queryFn:()=>p(e)}),C=()=>(0,a.a)({queryKey:["departments"],queryFn:h}),F=()=>(0,a.a)({queryKey:["allBlogs"],queryFn:y}),H=e=>(0,a.a)({queryKey:["singleBlog"],queryFn:()=>f(e)}),N=()=>(0,r.D)({mutationFn:x,onSuccess:e=>{let{status:t,message:n,data:a}=e||{};!0===t&&d.Am.success("commented successfully")}}),S=e=>(0,a.a)({queryKey:["singleBlogComment",e],queryFn:()=>b(e)}),k=e=>(0,a.a)({queryKey:["userDashboard",e],queryFn:()=>w(e)}),K=()=>(0,a.a)({queryKey:["recentBlogs"],queryFn:j})},5019:function(e,t,n){"use strict";n.r(t);var a=n(5893),r=n(7294),c=n(8301),s=n(6722),o=n(4934),i=n(8046),l=n(5440),u=n(9430),d=n(955),m=n(3821),g=n(4324),p=n(9203),h=n(5207),y=n(9912),f=n(8163),x=n(1664),b=n.n(x);t.default=()=>{let[e,t]=(0,r.useState)(null),[n,x]=(0,r.useState)([]),[w,j]=(0,r.useState)([]),{data:Z,isLoading:D}=(0,c.b5)(),{data:v,isLoading:q}=(0,c.nl)();if(console.log(null==Z?void 0:Z.data),r.useEffect(()=>{(null==Z?void 0:Z.data)&&(e?x(Z.data.filter(t=>t.department_id===e)):x(Z.data))},[Z,e]),D||q)return(0,a.jsx)(s.Z,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,a.jsx)(o.Z,{})});let _=(null==v?void 0:v.data)||[];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.Z,{p:2,m:2,sx:{display:"flex",alignItems:"center",flexDirection:"column",background:"#0077b6"},children:[(0,a.jsx)(i.Z,{variant:"h6",gutterBottom:!0,color:"white",children:"Search by Doctor Name or Department"}),(0,a.jsxs)(l.Z,{container:!0,rowSpacing:2,columnSpacing:2,width:"100%",children:[(0,a.jsx)(l.Z,{size:{xs:12,md:6},children:(0,a.jsx)(u.Z,{sx:{background:"white"},disablePortal:!0,options:_,getOptionLabel:e=>e.departmentName||"",renderInput:e=>(0,a.jsx)(d.Z,{...e,label:"Department Search",variant:"outlined"}),noOptionsText:"No departments available",onChange:(e,n)=>{t((null==n?void 0:n._id)||null)}})}),(0,a.jsx)(l.Z,{size:{xs:12,md:6},children:(0,a.jsx)(u.Z,{sx:{background:"white"},disablePortal:!0,options:n,getOptionLabel:e=>e.name||"",renderInput:e=>(0,a.jsx)(d.Z,{...e,label:"Doctor Search",variant:"outlined"}),noOptionsText:"No doctors available",onChange:(e,t)=>{null===t||""===t?j(n):j([t])}})})]})]}),(0,a.jsx)(s.Z,{p:2,m:2,sx:{display:"flex",alignItems:"center",flexDirection:"column",background:"#0077b6"},children:(0,a.jsx)(l.Z,{container:!0,width:{xs:"100%",md:"100%"},spacing:2,children:w.length>0?w.map(e=>(0,a.jsx)(l.Z,{size:{xs:6,md:3},children:(0,a.jsxs)(m.Z,{sx:{width:"100%"},children:[(0,a.jsx)(g.Z,{sx:{height:140},image:"https://doctor-app-bp0m.onrender.com/".concat(e.image.replace(/\\/g,"//")),title:e.name}),(0,a.jsxs)(p.Z,{children:[(0,a.jsx)(i.Z,{gutterBottom:!0,variant:"h5",component:"div",children:e.name}),(0,a.jsx)(i.Z,{variant:"body2",color:"text.secondary",children:e.department_details[0].departmentName||"No specialty provided"})]}),(0,a.jsx)(h.Z,{children:(0,a.jsxs)(y.Z,{alignItems:"center",justifyContent:"center",width:"100%",children:[(0,a.jsx)(f.Z,{size:"small",fullWidth:!0,variant:"contained",sx:{mb:2,p:1},children:"see details"}),(0,a.jsx)(b(),{href:"/appointment/".concat(e._id),style:{width:"100%"},children:(0,a.jsx)(f.Z,{size:"small",fullWidth:!0,variant:"contained",sx:{p:1},color:"secondary",children:"take an appointment"})})]})})]})},e._id)):(0,a.jsx)(i.Z,{color:"white",children:"No doctors selected"})})})]})}}},function(e){e.O(0,[168,777,955,440,490,888,774,179],function(){return e(e.s=6041)}),_N_E=e.O()}]);