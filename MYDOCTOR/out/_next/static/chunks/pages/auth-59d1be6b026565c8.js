(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[473],{4661:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth",function(){return t(6459)}])},4120:function(e,r,t){"use strict";t.d(r,{b:function(){return a}});var n=t(7066);let o=new(t(3059)).Z,a=n.Z.create({baseURL:"https://doctor-app-bp0m.onrender.com"});a.interceptors.request.use(function(e){let r=o.get("token");return r&&(e.headers=e.headers||{},e.headers["x-access-token"]=r),e},function(e){return Promise.reject(e)})},2212:function(e,r,t){"use strict";t.d(r,{H:function(){return n}});let n={auth:{signIn:"/login",signUp:"/register"},cms:{contactUs:"/createcontact",listOfDoctors:"/alldoctordepartment",createAppointment:"/createappointment",depertmentWiseDoctor:"/departmentidwisedoctor",featuredDoctors:"/featured",doctorDetails:"/doctordetails",personalCare:"/personalcare",childCare:"/childcare",allDepartments:"/alldepartment",blog:"/allblog",singleBlog:"/singleblog",createBlogComment:"/createblogcomment",getSingleBlogComment:"/getblogcomment",userDash:"/userdash",recentBlog:"/recentblog",searchBlog:"/blogsearch"}}},7859:function(e,r,t){"use strict";t.d(r,{u:function(){return m},c:function(){return g}});var n=t(8029),o=t(3059),a=t(1163),s=t(5678),i=t(4120),c=t(2212);let l=async e=>(console.log(e),(await i.b.post(c.H.auth.signIn,e)).data),u=async e=>(await i.b.post(c.H.auth.signUp,e)).data;var d=t(5007),p=t(6762);let m=()=>{let e=new o.Z,r=(0,a.useRouter)(),t=(0,d.I0)();return(0,n.D)({mutationFn:l,onSuccess:n=>{let{token:o,status:a,message:i,data:c}=n||{};console.log(c),200===a?(e.set("token",o,{path:"/",secure:!0,sameSite:"strict"}),e.set("userId",c._id,{path:"/",secure:!0,sameSite:"strict"}),t((0,p.x4)(c.image)),r.push("/"),s.Am.success("Logged in successfully")):s.Am.error(i||"An error occurred")},onError:e=>{var r;s.Am.error("An error occurred!"),console.error("Login error:",null===(r=e.response)||void 0===r?void 0:r.data)}})},g=()=>{let e=(0,a.useRouter)();return(0,n.D)({mutationFn:u,onSuccess:r=>{let{success:t,message:n}=r||{};t?(s.Am.success(n),e.push("/auth/signin")):s.Am.error(n||"An error occurred!")},onError:e=>{var r;s.Am.error("An error occurred!"),console.error("Sign-up error:",null===(r=e.response)||void 0===r?void 0:r.data)}})}},9912:function(e,r,t){"use strict";t.d(r,{Z:function(){return j}});var n=t(7294),o=t(512),a=t(4953),s=t(4867),i=t(4780),c=t(9243),l=t(1424),u=t(7437),d=t(8561),p=t(9730),m=t(8950),g=t(5893);let h=(0,d.Z)(),f=(0,c.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,r)=>r.root});function v(e){return(0,l.Z)({props:e,name:"MuiStack",defaultTheme:h})}let w=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],b=({ownerState:e,theme:r})=>{let t={display:"flex",flexDirection:"column",...(0,p.k9)({theme:r},(0,p.P$)({values:e.direction,breakpoints:r.breakpoints.values}),e=>({flexDirection:e}))};if(e.spacing){let n=(0,m.hB)(r),o=Object.keys(r.breakpoints.values).reduce((r,t)=>(("object"==typeof e.spacing&&null!=e.spacing[t]||"object"==typeof e.direction&&null!=e.direction[t])&&(r[t]=!0),r),{}),s=(0,p.P$)({values:e.direction,base:o}),i=(0,p.P$)({values:e.spacing,base:o});"object"==typeof s&&Object.keys(s).forEach((e,r,t)=>{if(!s[e]){let n=r>0?s[t[r-1]]:"column";s[e]=n}}),t=(0,a.Z)(t,(0,p.k9)({theme:r},i,(r,t)=>e.useFlexGap?{gap:(0,m.NA)(n,r)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${w(t?s[t]:e.direction)}`]:(0,m.NA)(n,r)}}))}return(0,p.dt)(r.breakpoints,t)};var x=t(9262),y=t(9145),j=function(e={}){let{createStyledComponent:r=f,useThemeProps:t=v,componentName:a="MuiStack"}=e,c=()=>(0,i.Z)({root:["root"]},e=>(0,s.ZP)(a,e),{}),l=r(b);return n.forwardRef(function(e,r){let a=t(e),{component:s="div",direction:i="column",spacing:d=0,divider:p,children:m,className:h,useFlexGap:f=!1,...v}=(0,u.Z)(a),w=c();return(0,g.jsx)(l,{as:s,ownerState:{direction:i,spacing:d,useFlexGap:f},ref:r,className:(0,o.Z)(w.root,h),...v,children:p?function(e,r){let t=n.Children.toArray(e).filter(Boolean);return t.reduce((e,o,a)=>(e.push(o),a<t.length-1&&e.push(n.cloneElement(r,{key:`separator-${a}`})),e),[])}(m,p):m})})}({createStyledComponent:(0,x.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,r)=>r.root}),useThemeProps:e=>(0,y.Z)({props:e,name:"MuiStack"})})},6459:function(e,r,t){"use strict";t.r(r);var n=t(5893);t(7294);var o=t(6722),a=t(440),s=t(8046),i=t(955),c=t(8163),l=t(9912),u=t(772),d=t.n(u),p=t(7536),m=t(7859),g=t(1664),h=t.n(g);r.default=()=>{let{register:e,handleSubmit:r,formState:{errors:t}}=(0,p.cI)(),{mutate:u,isPending:g}=(0,m.u)();return(0,n.jsx)(o.Z,{sx:{p:2,width:"100%",background:"linear-gradient(to right, #ff7e5f, #feb47b)",display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:(0,n.jsxs)(a.Z,{elevation:6,sx:{px:2,py:3,width:{xs:"90vw",lg:"50vw"},textAlign:"center",animation:"".concat(d()["fade-up"]," 1s")},children:[(0,n.jsx)(s.Z,{variant:"h5",gutterBottom:!0,children:"Login Form"}),(0,n.jsxs)("form",{onSubmit:r(e=>{let r=new URLSearchParams;r.append("email",e.email),r.append("password",e.password),u(r.toString())}),children:[(0,n.jsx)(i.Z,{...e("email",{required:"Email is required",pattern:{value:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,message:"Invalid email format"}}),label:"Your Email",fullWidth:!0,margin:"normal",variant:"outlined",error:!!t.email,helperText:t.email&&t.email.message}),(0,n.jsx)(i.Z,{...e("password",{required:"Password is required"}),label:"Password",type:"password",fullWidth:!0,margin:"normal",variant:"outlined",error:!!t.password,helperText:t.password&&t.password.message}),(0,n.jsx)(c.Z,{variant:"contained",color:"primary",fullWidth:!0,size:"large",type:"submit",sx:{marginTop:2},children:g?"Loading...":"Log In"})]}),(0,n.jsx)("div",{className:d()["hr-container"],children:(0,n.jsx)("span",{children:"OR"})}),(0,n.jsxs)(l.Z,{spacing:2,direction:"row",alignItems:"center",justifyContent:"center",children:[(0,n.jsx)(s.Z,{variant:"body1",sx:{color:"gray"},children:"New customer?"}),(0,n.jsx)(h(),{href:"/auth/signup",children:(0,n.jsx)(c.Z,{variant:"contained",color:"secondary",children:"Sign up"})})]})]})})}},772:function(e){e.exports={"hr-container":"auth_hr-container__HKij_",fadeUp:"auth_fadeUp__oPvaU","fade-up":"auth_fade-up__vfbei"}}},function(e){e.O(0,[168,955,536,888,774,179],function(){return e(e.s=4661)}),_N_E=e.O()}]);