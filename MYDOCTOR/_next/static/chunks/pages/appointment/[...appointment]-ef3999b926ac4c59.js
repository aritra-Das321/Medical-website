(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[742],{3965:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/appointment/[...appointment]",function(){return n(3100)}])},4120:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(7066);let a=new(n(3059)).Z,o=r.Z.create({baseURL:"https://doctor-app-bp0m.onrender.com"});o.interceptors.request.use(function(e){let t=a.get("token");return t&&(e.headers=e.headers||{},e.headers["x-access-token"]=t),e},function(e){return Promise.reject(e)})},2212:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});let r={auth:{signIn:"/login",signUp:"/register"},cms:{contactUs:"/createcontact",listOfDoctors:"/alldoctordepartment",createAppointment:"/createappointment",depertmentWiseDoctor:"/departmentidwisedoctor",featuredDoctors:"/featured",doctorDetails:"/doctordetails",personalCare:"/personalcare",childCare:"/childcare",allDepartments:"/alldepartment",blog:"/allblog",singleBlog:"/singleblog",createBlogComment:"/createblogcomment",getSingleBlogComment:"/getblogcomment",userDash:"/userdash",recentBlog:"/recentblog",searchBlog:"/blogsearch"}}},8301:function(e,t,n){"use strict";n.d(t,{wW:function(){return C},b5:function(){return j},sF:function(){return Z},cG:function(){return q},sH:function(){return N},un:function(){return D},mN:function(){return B},nl:function(){return F},Ms:function(){return S},r$:function(){return H},TE:function(){return K},OZ:function(){return k}});var r=n(777),a=n(8029),o=n(202);let s=()=>({queryClient:(0,o.NL)()});var i=n(4120),c=n(2212);let l=async()=>(console.log("calledf"),(await i.b.get(c.H.cms.listOfDoctors)).data),d=async e=>(await i.b.post(c.H.cms.contactUs,e)).data;var u=n(5678);let m=async e=>(await i.b.post(c.H.cms.createAppointment,e)).data,p=async e=>(await i.b.get("".concat(c.H.cms.depertmentWiseDoctor,"/").concat(e))).data,g=async e=>(await i.b.get("".concat(c.H.cms.doctorDetails,"/").concat(e))).data,h=async()=>(await i.b.get(c.H.cms.allDepartments)).data,f=async()=>(await i.b.get(c.H.cms.blog)).data,x=async e=>(await i.b.get("".concat(c.H.cms.singleBlog,"/").concat(e))).data,y=async e=>(await i.b.post(c.H.cms.createBlogComment,e)).data,b=async e=>(await i.b.get("".concat(c.H.cms.getSingleBlogComment,"/").concat(e))).data,v=async e=>(await i.b.get("".concat(c.H.cms.userDash,"/").concat(e))).data,w=async()=>(await i.b.get(c.H.cms.recentBlog)).data;var _=n(1163);let j=()=>{let{queryClient:e}=s();return(0,r.a)({queryKey:["doctorsList"],queryFn:l})},Z=()=>(0,a.D)({mutationFn:d,onSuccess:e=>{let{status:t,data:n,message:r}=e||{};!0===t?u.Am.success("contact created successfully"):u.Am.error("an unknown error occurred")}}),q=()=>{let e=(0,_.useRouter)();return(0,a.D)({mutationFn:m,onSuccess:t=>{let{status:n,message:r}=t||{};n?(u.Am.success("appointmemnt created successfully"),e.push("/")):(0,u.Am)(r)}})},D=e=>(0,r.a)({queryKey:["departmentWiseDoctor",e],queryFn:()=>p(e)}),B=e=>(0,r.a)({queryKey:["doctorDetails",e],queryFn:()=>g(e)}),F=()=>(0,r.a)({queryKey:["departments"],queryFn:h}),C=()=>(0,r.a)({queryKey:["allBlogs"],queryFn:f}),H=e=>(0,r.a)({queryKey:["singleBlog"],queryFn:()=>x(e)}),N=()=>(0,a.D)({mutationFn:y,onSuccess:e=>{let{status:t,message:n,data:r}=e||{};!0===t&&u.Am.success("commented successfully")}}),S=e=>(0,r.a)({queryKey:["singleBlogComment",e],queryFn:()=>b(e)}),k=e=>(0,r.a)({queryKey:["userDashboard",e],queryFn:()=>v(e)}),K=()=>(0,r.a)({queryKey:["recentBlogs"],queryFn:w})},3100:function(e,t,n){"use strict";n.r(t);var r=n(5893),a=n(8301),o=n(5675),s=n.n(o),i=n(1163),c=n(7294),l=n(6722),d=n(5440),u=n(8046),m=n(440),p=n(955),g=n(8163),h=n(772),f=n.n(h),x=n(7536),y=n(3059),b=n(5398);t.default=()=>{var e,t;let[n,o]=(0,c.useState)(!1),h=()=>o(!0),v=new y.Z,{appointment:w}=(0,i.useRouter)().query,_=w?null==w?void 0:w[0]:"",{register:j,handleSubmit:Z,formState:{errors:q}}=(0,x.cI)(),{isPending:D,mutate:B,isError:F}=(0,a.cG)(),{data:C,isLoading:H}=(0,a.mN)(_);return(console.log(C),H)?(0,r.jsx)(r.Fragment,{}):(0,r.jsxs)(l.Z,{children:[(0,r.jsxs)(d.Z,{container:!0,rowSpacing:2,columnSpacing:2,width:"100%",p:2,children:[(0,r.jsxs)(d.Z,{size:{xs:12,md:6},sx:{display:"flex",flexDirection:"column",p:2,background:"#d4d4d4",borderRadius:"13px"},children:[(0,r.jsx)(s(),{src:"https://doctor-app-bp0m.onrender.com/".concat((null==C?void 0:null===(e=C.data)||void 0===e?void 0:e.image)||""),alt:"Doctor",width:400,height:400,className:"w-34 h-34 md:w-64 md:h-64 md:rounded-xl rounded-xl  order-first"}),(0,r.jsx)(u.Z,{gutterBottom:!0,variant:"h4",color:"primary",children:(null==C?void 0:C.data.name)||""}),(0,r.jsxs)(u.Z,{gutterBottom:!0,variant:"h6",children:["Department Name: ",(null==C?void 0:C.data.department_id.departmentName)||""]}),(0,r.jsxs)(u.Z,{gutterBottom:!0,variant:"body1",children:["Aparture Time: ",(null==C?void 0:C.data.aperture_time)||""]}),(0,r.jsxs)(u.Z,{gutterBottom:!0,variant:"body1",children:["Departure Time: ",(null==C?void 0:C.data.departure_time)||""]}),(0,r.jsxs)(u.Z,{gutterBottom:!0,variant:"body2",children:["Description: ",(null==C?void 0:C.data.description)||""]})]}),(0,r.jsx)(d.Z,{size:{xs:12,md:6},children:(0,r.jsxs)(m.Z,{elevation:6,sx:{px:2,py:3,width:"100%",textAlign:"center",animation:"".concat(f()["fade-up"]," 0.5s")},children:[(0,r.jsx)(u.Z,{variant:"h5",gutterBottom:!0,children:"Login Form"}),(0,r.jsxs)("form",{onSubmit:Z(e=>{let t=v.get("userId");if(t){if(!H){let n=new URLSearchParams;n.append("user_id",t),n.append("department_id",(null==C?void 0:C.data.department_id._id)?null==C?void 0:C.data.department_id._id:""),n.append("doctor_id",_),n.append("phone",e.phone),n.append("message",e.message),B(n.toString())}}else h()}),children:[(0,r.jsx)(p.Z,{...j("phone",{required:"Phone is required"}),label:"Phone No",fullWidth:!0,margin:"normal",variant:"outlined",error:!!q.phone,helperText:q.phone&&(null===(t=q.phone)||void 0===t?void 0:t.message)}),(0,r.jsx)(p.Z,{...j("message",{required:"Message is Required"}),label:"Message",type:"text",fullWidth:!0,margin:"normal",variant:"outlined",error:!!q.message,helperText:q.message&&q.message.message}),(0,r.jsx)(g.Z,{variant:"contained",color:"primary",fullWidth:!0,size:"large",type:"submit",sx:{marginTop:2},children:D?"Loading...":"Submit"})]})]})})]}),n&&(0,r.jsx)(b.Z,{message:"You need to log in first",severity:"error",open:n,onClose:()=>o(!1)})]})}},5398:function(e,t,n){"use strict";var r=n(5893);n(7294);var a=n(4864),o=n(6722),s=n(9131),i=n(9346),c=n(8046),l=n(5008),d=n(8163),u=n(3367),m=n(9626),p=n(1664),g=n.n(p);t.Z=e=>{let{message:t,severity:n="info",open:p,onClose:h}=e;return(0,r.jsxs)(a.Z,{open:p,onClose:h,fullWidth:!0,maxWidth:"sm",PaperProps:{sx:{position:"relative",zIndex:9999}},children:[(0,r.jsx)(o.Z,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)",zIndex:9998}}),(0,r.jsxs)(s.Z,{sx:{position:"relative",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",bgcolor:"white"},children:[(0,r.jsx)(i.Z,{color:n,children:n.toUpperCase()}),(0,r.jsx)(c.Z,{variant:"h6",sx:{my:2},children:t}),(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(g(),{href:"/auth",children:(0,r.jsx)(d.Z,{variant:"contained",children:"Go to Log in"})}),(0,r.jsx)(d.Z,{variant:"contained",color:"secondary",onClick:h,children:"Not Now"}),(0,r.jsx)(u.Z,{edge:"end",color:"inherit",onClick:h,"aria-label":"close",sx:{position:"absolute",right:13,top:8},children:(0,r.jsx)(m.Z,{})})]})]})]})}},772:function(e){e.exports={"hr-container":"auth_hr-container__HKij_",fadeUp:"auth_fadeUp__oPvaU","fade-up":"auth_fade-up__vfbei"}}},function(e){e.O(0,[168,777,955,675,440,536,756,888,774,179],function(){return e(e.s=3965)}),_N_E=e.O()}]);